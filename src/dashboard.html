<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunii - Discord Dashboard</title>
    <link rel="stylesheet" href="styles/dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Title Bar -->
    <div class="title-bar">
        <div class="title-bar-left">
            <div class="app-logo">
                <img src="../assets/lunii-icon.png" alt="Lunii" width="16" height="16">
            </div>
            <span class="app-title">Lunii</span>
        </div>
        <div class="title-bar-controls">
            <button class="control-btn" id="minimize-btn">−</button>
            <button class="control-btn" id="maximize-btn">□</button>
            <button class="control-btn close" id="close-btn">×</button>
        </div>
    </div>

    <!-- Dashboard Container -->
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="nav-menu">
                <button class="nav-item active" data-page="dashboard" title="Dashboard">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                    </svg>
                </button>
                <button class="nav-item" data-page="friends" title="Friends">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
                    </svg>
                </button>
                <button class="nav-item" data-page="servers" title="Servers">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm12 12V6H4v10h12z"/>
                    </svg>
                </button>
                <button class="nav-item" data-page="messaging" title="Messaging">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z"/>
                    </svg>
                </button>
                <button class="nav-item" data-page="automation" title="Automation">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"/>
                    </svg>
                </button>
                <button class="nav-item" data-page="logs" title="Logs">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"/>
                    </svg>
                </button>
                <button class="nav-item" data-page="settings" title="Settings">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Dashboard Page -->
            <div class="page-content active" id="dashboard-page">
                <div class="content-header">
                    <div class="greeting">
                        <h1>Welcome back, <span id="user-display-name">User</span>!</h1>
                    </div>
                    <div class="header-actions">
                        <button class="switch-account-btn" id="switch-account-btn">Switch Account</button>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <!-- Profile Panel -->
                    <div class="panel profile-panel">
                        <div class="profile-header">
                            <div class="avatar-container">
                                <img class="avatar" id="user-avatar" src="" alt="Avatar">
                                <div class="status-indicator online" id="user-status-indicator"></div>
                            </div>
                            <div class="profile-info">
                                <h3 id="profile-username">Username</h3>
                                <p id="profile-handle">@username</p>
                                <div class="profile-badges" id="profile-badges"></div>
                            </div>
                        </div>

                        <div class="profile-stats">
                            <div class="stat-group">
                                <div class="stat-item">
                                    <div class="stat-circle">
                                        <svg class="stat-progress" width="80" height="80">
                                            <defs>
                                                <linearGradient id="serversGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                                    <stop offset="0%" style="stop-color:#4F46E5"/>
                                                    <stop offset="100%" style="stop-color:#7C3AED"/>
                                                </linearGradient>
                                            </defs>
                                            <circle class="stat-bg" cx="40" cy="40" r="36"/>
                                            <circle class="stat-fill servers-fill" cx="40" cy="40" r="36"/>
                                        </svg>
                                        <div class="stat-text">
                                            <div class="stat-value" id="servers-count">0</div>
                                            <div class="stat-max">servers</div>
                                        </div>
                                    </div>
                                    <div class="stat-label">Servers</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-circle">
                                        <svg class="stat-progress" width="80" height="80">
                                            <defs>
                                                <linearGradient id="friendsGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                                    <stop offset="0%" style="stop-color:#22c55e"/>
                                                    <stop offset="100%" style="stop-color:#16a34a"/>
                                                </linearGradient>
                                            </defs>
                                            <circle class="stat-bg" cx="40" cy="40" r="36"/>
                                            <circle class="stat-fill friends-fill" cx="40" cy="40" r="36"/>
                                        </svg>
                                        <div class="stat-text">
                                            <div class="stat-value" id="friends-count">0</div>
                                            <div class="stat-max">friends</div>
                                        </div>
                                    </div>
                                    <div class="stat-label">Friends</div>
                                </div>
                            </div>
                        </div>

                        <div class="profile-details">
                            <div class="detail-item">
                                <div class="detail-label">
                                    <svg width="14" height="14" viewBox="0 0 14 14" fill="currentColor">
                                        <path d="M7 0a7 7 0 100 14A7 7 0 007 0zM5.5 3.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM7 11a4 4 0 01-4-4h1a3 3 0 106 0h1a4 4 0 01-4 4z"/>
                                    </svg>
                                    Status
                                </div>
                                <div class="detail-value status-active" id="connection-status">Connected</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">
                                    <svg width="14" height="14" viewBox="0 0 14 14" fill="currentColor">
                                        <path d="M7 0a7 7 0 100 14A7 7 0 007 0zm0 2a1 1 0 011 1v3.586l2.707 2.707a1 1 0 01-1.414 1.414L6.586 7.414A1 1 0 016 6.586V3a1 1 0 011-1z"/>
                                    </svg>
                                    Uptime
                                </div>
                                <div class="detail-value">
                                    <div class="uptime-display" id="uptime-display">0d 0h 0m</div>
                                </div>
                            </div>
                        </div>

                        <div class="profile-toggles">
                            <div class="toggle-item">
                                <span>Auto Giveaway</span>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="auto-giveaway-toggle">
                                    <label for="auto-giveaway-toggle"></label>
                                </div>
                            </div>
                            <div class="toggle-item">
                                <span>Status Animation</span>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="status-animation-toggle">
                                    <label for="status-animation-toggle"></label>
                                </div>
                            </div>
                        </div>

                        <div class="custom-status-section">
                            <h4>Custom Status</h4>
                            <div class="status-input-group">
                                <input type="text" id="custom-status-input" placeholder="What's happening?">
                                <select id="status-type-select">
                                    <option value="online">Online</option>
                                    <option value="idle">Idle</option>
                                    <option value="dnd">Do Not Disturb</option>
                                    <option value="invisible">Invisible</option>
                                </select>
                            </div>
                            <div class="status-actions">
                                <button class="status-btn" id="set-status-btn">Set Status</button>
                                <button class="status-btn secondary" id="clear-status-btn">Clear</button>
                            </div>
                        </div>
                    </div>

                    <!-- Notification Panel -->
                    <div class="panel notification-panel">
                        <div class="panel-header">
                            <div class="panel-title">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                    <path d="M8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"/>
                                    <path fill-rule="evenodd" d="M8 1.918l-.797.161A4.002 4.002 0 004 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 00-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 111.99 0A5.002 5.002 0 0113 6c0 .88.32 4.2 1.22 6z"/>
                                </svg>
                                Notifications
                                <span class="notification-count" id="notification-count">0</span>
                            </div>
                            <button class="panel-action" id="clear-notifications-btn" title="Clear All">
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="currentColor">
                                    <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2V4a2 2 0 00-2-2H6zM4 4a4 4 0 014-4h2a4 4 0 014 4v6a4 4 0 01-4 4H6a4 4 0 01-4-4V4z"/>
                                </svg>
                            </button>
                        </div>
                        <div class="notifications-list" id="notifications-list">
                            <div class="empty-state">
                                <p>No notifications</p>
                                <span>You're all caught up!</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Friends Page -->
            <div class="page-content" id="friends-page">
                <div class="content-header">
                    <div class="greeting">
                        <h1>Friends</h1>
                    </div>
                    <div class="header-actions">
                        <button class="action-btn secondary" id="refresh-friends-btn">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path fill-rule="evenodd" d="M8 3a5 5 0 104.546 2.914.5.5 0 00-.908-.417A4 4 0 118 4v1h2.5a.5.5 0 000-1H8V3z"/>
                            </svg>
                            Refresh
                        </button>
                    </div>
                </div>
                <div class="friends-list" id="friends-list">
                    <!-- Friends will be populated here -->
                </div>
            </div>

            <!-- Servers Page -->
            <div class="page-content" id="servers-page">
                <div class="content-header">
                    <div class="greeting">
                        <h1>Servers</h1>
                    </div>
                    <div class="header-actions">
                        <button class="action-btn secondary" id="refresh-servers-btn">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path fill-rule="evenodd" d="M8 3a5 5 0 104.546 2.914.5.5 0 00-.908-.417A4 4 0 118 4v1h2.5a.5.5 0 000-1H8V3z"/>
                            </svg>
                            Refresh
                        </button>
                    </div>
                </div>
                <div class="servers-grid" id="servers-grid">
                    <!-- Servers will be populated here -->
                </div>
            </div>

            <!-- Messaging Page -->
            <div class="page-content" id="messaging-page">
                <div class="messaging-container">
                    <div class="chat-sidebar">
                        <div class="chat-sidebar-header">
                            <h3>Direct Messages</h3>
                        </div>
                        <div class="dm-list" id="dm-list">
                            <!-- DM conversations will be listed here -->
                        </div>
                    </div>
                    <div class="chat-main" id="chat-main">
                        <div class="chat-welcome">
                            <h2>Select a conversation</h2>
                            <p>Choose a friend to start chatting</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Server View (Dynamic) -->
            <div class="page-content" id="server-view-page" style="display: none;">
                <div class="server-view-container">
                    <div class="server-sidebar">
                        <div class="server-header">
                            <h3 id="server-name">Server Name</h3>
                            <button class="close-server-btn" id="close-server-btn">×</button>
                        </div>
                        <div class="channels-list" id="channels-list">
                            <!-- Channels will be populated here -->
                        </div>
                    </div>
                    <div class="server-main">
                        <div class="channel-chat" id="channel-chat">
                            <div class="chat-welcome">
                                <h2>Select a channel</h2>
                                <p>Choose a channel to start chatting</p>
                            </div>
                        </div>
                    </div>
                    <div class="members-sidebar">
                        <div class="members-header">
                            <h4>Members</h4>
                        </div>
                        <div class="members-list" id="members-list">
                            <!-- Members will be populated here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Automation Page -->
            <div class="page-content" id="automation-page">
                <div class="content-header">
                    <div class="greeting">
                        <h1>Automation</h1>
                    </div>
                    <div class="header-actions">
                        <div class="toggle-item">
                            <span>Message Logging</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="message-logging-main-toggle">
                                <label for="message-logging-main-toggle"></label>
                            </div>
                        </div>
                        <div class="toggle-item">
                            <span>Ghost Ping Logging</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="ghost-ping-logging-main-toggle">
                                <label for="ghost-ping-logging-main-toggle"></label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="automation-settings">
                    <!-- Auto Giveaway Configuration -->
                    <div class="feature-card">
                        <div>
                            <h4>Auto Giveaway Join</h4>
                            <p>Automatically join verified giveaways</p>
                        </div>
                        <div class="feature-controls">
                            <div class="toggle-switch">
                                <input type="checkbox" id="auto-giveaway-feature">
                                <label for="auto-giveaway-feature"></label>
                            </div>
                            <button class="config-btn" id="configure-giveaway-btn">Configure</button>
                        </div>
                    </div>
                    
                    <!-- Giveaway Configuration Panel -->
                    <div class="config-panel" id="giveaway-config-panel" style="display: none;">
                        <h4>Giveaway Settings</h4>
                        <div class="config-grid">
                            <div class="input-group">
                                <label>Keywords (comma separated)</label>
                                <input type="text" id="giveaway-keywords" placeholder="🎉, giveaway, react, win, prize">
                            </div>
                            <div class="input-group">
                                <label>Reaction Emojis (comma separated)</label>
                                <input type="text" id="giveaway-emojis" placeholder="🎉, 🎊, 🎁, ✨">
                            </div>
                            <div class="input-group">
                                <label>Min Delay (ms)</label>
                                <input type="number" id="giveaway-min-delay" value="1000" min="500" max="10000">
                            </div>
                            <div class="input-group">
                                <label>Max Delay (ms)</label>
                                <input type="number" id="giveaway-max-delay" value="5000" min="1000" max="30000">
                            </div>
                            <div class="input-group">
                                <label>Max Per Hour</label>
                                <input type="number" id="giveaway-max-hour" value="10" min="1" max="50">
                            </div>
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="giveaway-verified-only" checked>
                                    <span class="checkmark"></span>
                                    <span class="checkbox-text">Verified bots only</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" id="giveaway-require-keywords" checked>
                                    <span class="checkmark"></span>
                                    <span class="checkbox-text">Require keywords</span>
                                </label>
                            </div>
                        </div>
                        <div class="config-actions">
                            <button class="action-btn secondary" id="giveaway-cancel-btn">Cancel</button>
                            <button class="action-btn primary" id="giveaway-save-btn">Save Settings</button>
                        </div>
                    </div>
                    
                    <!-- AFK Auto Reply Configuration -->
                    <div class="feature-card">
                        <div>
                            <h4>AFK Auto-Reply</h4>
                            <p>Automatically reply when mentioned while AFK</p>
                        </div>
                        <div class="feature-controls">
                            <div class="toggle-switch">
                                <input type="checkbox" id="afk-auto-reply-feature">
                                <label for="afk-auto-reply-feature"></label>
                            </div>
                            <button class="config-btn" id="configure-afk-btn">Configure</button>
                        </div>
                    </div>
                    
                    <!-- AFK Configuration Panel -->
                    <div class="config-panel" id="afk-config-panel" style="display: none;">
                        <h4>AFK Auto-Reply Settings</h4>
                        <div class="config-grid">
                            <div class="input-group">
                                <label>AFK Message</label>
                                <textarea id="afk-message" placeholder="I'm currently AFK. I'll get back to you soon!"></textarea>
                            </div>
                            <div class="input-group">
                                <label>Timeout (minutes)</label>
                                <input type="number" id="afk-timeout" value="5" min="1" max="60">
                            </div>
                            <div class="input-group">
                                <label>Response Limit</label>
                                <input type="number" id="afk-response-limit" value="3" min="1" max="10">
                            </div>
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="afk-auto-detection" checked>
                                    <span class="checkmark"></span>
                                    <span class="checkbox-text">Auto detection</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" id="afk-ai-enabled">
                                    <span class="checkmark"></span>
                                    <span class="checkbox-text">AI-powered responses</span>
                                </label>
                            </div>
                        </div>
                        <div class="config-actions">
                            <button class="action-btn secondary" id="afk-cancel-btn">Cancel</button>
                            <button class="action-btn primary" id="afk-save-btn">Save Settings</button>
                        </div>
                    </div>
                    
                    <!-- Status Animation Configuration -->
                    <div class="feature-card">
                        <div>
                            <h4>Status Animation</h4>
                            <p>Rotate through custom status messages</p>
                        </div>
                        <div class="feature-controls">
                            <div class="toggle-switch">
                                <input type="checkbox" id="status-animation-feature">
                                <label for="status-animation-feature"></label>
                            </div>
                            <button class="config-btn" id="configure-status-btn">Configure</button>
                        </div>
                    </div>
                    
                    <!-- Status Animation Configuration Panel -->
                    <div class="config-panel" id="status-config-panel" style="display: none;">
                        <h4>Status Animation Settings</h4>
                        <div class="config-grid">
                            <div class="input-group">
                                <label>Interval (seconds)</label>
                                <input type="number" id="status-interval" value="30" min="10" max="300">
                            </div>
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="status-random-order">
                                    <span class="checkmark"></span>
                                    <span class="checkbox-text">Random order</span>
                                </label>
                            </div>
                            <div class="status-messages-section">
                                <label>Status Messages</label>
                                <div class="status-messages-list" id="status-messages-list">
                                    <!-- Status messages will be populated here -->
                                </div>
                                <button class="action-btn secondary" id="add-status-message-btn">Add Status Message</button>
                            </div>
                        </div>
                        <div class="config-actions">
                            <button class="action-btn secondary" id="status-cancel-btn">Cancel</button>
                            <button class="action-btn primary" id="status-save-btn">Save Settings</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Logs Page -->
            <div class="page-content" id="logs-page">
                <div class="content-header">
                    <div class="greeting">
                        <h1>Logs</h1>
                    </div>
                    <div class="header-actions">
                        <div class="log-type-tabs">
                            <button class="tab-btn active" data-log-type="messages">Messages</button>
                            <button class="tab-btn" data-log-type="ghost-pings">Ghost Pings</button>
                        </div>
                    </div>
                </div>
                
                <div class="logs-container">
                    <div class="logs-section" id="message-logs-section">
                        <div class="section-header">
                            <h3>Message Logs</h3>
                            <div class="log-actions">
                                <button class="action-btn secondary" id="refresh-message-logs">Refresh</button>
                                <button class="action-btn secondary" id="clear-message-logs">Clear</button>
                            </div>
                        </div>
                        <div class="logs-list" id="message-logs-list">
                            <div class="empty-state">
                                <p>No message logs</p>
                                <span>Messages will be logged here when the feature is enabled</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="logs-section" id="ghost-ping-logs-section" style="display: none;">
                        <div class="section-header">
                            <h3>Ghost Ping Logs</h3>
                            <div class="log-actions">
                                <button class="action-btn secondary" id="refresh-ghost-ping-logs">Refresh</button>
                                <button class="action-btn secondary" id="clear-ghost-ping-logs">Clear</button>
                            </div>
                        </div>
                        <div class="logs-list" id="ghost-ping-logs-list">
                            <div class="empty-state">
                                <p>No ghost pings detected</p>
                                <span>Deleted mentions will be logged here</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div class="page-content" id="settings-page">
                <div class="content-header">
                    <div class="greeting">
                        <h1>Settings</h1>
                    </div>
                </div>
                <div class="settings-sections">
                    <div class="settings-section">
                        <h4>General Settings</h4>
                        <div class="setting-item">
                            <span>Theme</span>
                            <select class="setting-input">
                                <option>Dark</option>
                                <option>Light</option>
                                <option>Auto</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <span>Notifications</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="notifications-enabled" checked>
                                <label for="notifications-enabled"></label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4>Gemini AI Integration</h4>
                        <div class="setting-item">
                            <span>API Key</span>
                            <input type="password" class="setting-input" id="gemini-api-key" placeholder="Enter your Gemini API key">
                        </div>
                        <div class="setting-item">
                            <span>Enable AI Assistance</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="gemini-enabled">
                                <label for="gemini-enabled"></label>
                            </div>
                        </div>
                        <div class="setting-actions">
                            <button class="action-btn primary" id="save-gemini-settings">Save AI Settings</button>
                            <button class="action-btn secondary" id="test-gemini-connection">Test Connection</button>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4>Advanced Settings</h4>
                        <div class="setting-item">
                            <span>Auto-save Token</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="auto-save-token" checked>
                                <label for="auto-save-token"></label>
                            </div>
                        </div>
                        <div class="setting-item">
                            <span>Debug Mode</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="debug-mode">
                                <label for="debug-mode"></label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="context-menu" style="display: none;">
        <!-- Context menu items will be populated dynamically -->
    </div>

    <!-- Image Modal -->
    <style>
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10001;
        }
        
        .image-modal-overlay {
            position: relative;
            max-width: 90vw;
            max-height: 90vh;
        }
        
        .image-modal-content img {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 8px;
        }
        
        .image-modal-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .custom-emoji {
            width: 20px;
            height: 20px;
            vertical-align: middle;
            margin: 0 2px;
        }
        
        .emoji {
            font-size: 18px;
            vertical-align: middle;
        }
    </style>

    <!-- Chat Input Template -->
    <template id="chat-input-template">
        <div class="chat-input-container">
            <div class="typing-indicator" id="typing-indicator" style="display: none;">
                <span class="typing-text"></span>
            </div>
            <div class="chat-input-wrapper">
                <div class="chat-input-area">
                    <textarea class="chat-input" placeholder="Type a message..." rows="1"></textarea>
                    <div class="chat-input-actions">
                        <button class="chat-action-btn" title="Attach File">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z"/>
                            </svg>
                        </button>
                        <button class="chat-action-btn" title="Emoji">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z"/>
                            </svg>
                        </button>
                        <button class="chat-send-btn" title="Send Message">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <script>
        const { ipcRenderer } = require('electron');
        
        // Expose electronAPI to window
        window.electronAPI = {
            // Window controls
            minimizeWindow: () => ipcRenderer.send('window-minimize'),
            maximizeWindow: () => ipcRenderer.send('window-maximize'),
            closeWindow: () => ipcRenderer.send('window-close'),
            
            // Authentication
            logout: () => ipcRenderer.send('logout'),
            
            // Discord API
            getDiscordUserData: () => ipcRenderer.invoke('discord-get-user-data'),
            getDiscordStats: () => ipcRenderer.invoke('discord-get-stats'),
            updateDiscordSetting: (setting, value) => ipcRenderer.invoke('discord-update-setting', setting, value),
            getDiscordFriends: () => ipcRenderer.invoke('discord-get-friends'),
            getDiscordServers: () => ipcRenderer.invoke('discord-get-servers'),
            
            // Friend management
            unblockUser: (userId) => ipcRenderer.invoke('discord-unblock-user', userId),
            acceptFriendRequest: (userId) => ipcRenderer.invoke('discord-accept-friend-request', userId),
            declineFriendRequest: (userId) => ipcRenderer.invoke('discord-decline-friend-request', userId),
            
            // Server management
            createServerInvite: (serverId) => ipcRenderer.invoke('discord-create-server-invite', serverId),
            
            // AI Integration
            testGeminiConnection: (apiKey) => ipcRenderer.invoke('test-gemini-connection', apiKey),
            
            // Chat functionality
            getChannelMessages: (channelId, limit) => ipcRenderer.invoke('discord-get-channel-messages', channelId, limit),
            getDMMessages: (userId, limit) => ipcRenderer.invoke('discord-get-dm-messages', userId, limit),
            sendChannelMessage: (channelId, content, options) => ipcRenderer.invoke('discord-send-channel-message', channelId, content, options),
            sendDMMessage: (userId, content, options) => ipcRenderer.invoke('discord-send-dm-message', userId, content, options),
            startTyping: (channelId) => ipcRenderer.invoke('discord-start-typing', channelId),
            getGuildChannels: (guildId) => ipcRenderer.invoke('discord-get-guild-channels', guildId),
            getGuildMembers: (guildId) => ipcRenderer.invoke('discord-get-guild-members', guildId),
            
            // Event listeners
            onDiscordNotification: (callback) => {
                ipcRenderer.on('discord-notification', callback);
            },
            
            onDiscordMessageUpdate: (callback) => {
                ipcRenderer.on('discord-message-update', callback);
            },
            
            onDiscordPresenceUpdate: (callback) => {
                ipcRenderer.on('discord-presence-update', callback);
            },
            
            onDiscordTypingUpdate: (callback) => {
                ipcRenderer.on('discord-typing-update', callback);
            },
            
            onDiscordTypingStop: (callback) => {
                ipcRenderer.on('discord-typing-stop', callback);
            },
            
            // Remove listeners
            removeAllListeners: (channel) => {
                ipcRenderer.removeAllListeners(channel);
            }
        };
    </script>
    <script src="dashboard.js"></script>
</body>
</html>